<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Juice Box Clicker</title>
    <script>
        var clicker = {
            juice:0,
            upgrades: {
                juice_machine:{
                    amount:0,
                    cost:10,
                    jps:1,
                    name:"Juice machine"
                }

            }
        };
        function juice_clicked(juice){
            clicker.upgrades[juice].amount++
            update_upgrades();
        }
        function update_upgrades(){
            document.querySelector("#upgrades").innerHTML="";
            for(i in clicker.upgrades){
                document.querySelector("#upgrades").innerHTML+= `<br> <button> onclick="juice_clicked('${i}'">${clicker.upgrades
                [i].name}</button> you have ${clicker.upgrades[i].amount}`;
            }
        }
        function updatecount(){
           update_upgrades();
           setInterval(() => {
               for(i in clicker.upgrades){
                   clicker.juice+=clicker.upgrades[i].amount*clicker.upgrades[i].jps/20
               }
               document.querySelector("#juice").innerHTML = "you have "+String(clicker.juice).split(".")[0]+" juice"
           },50);
        }
        
    </script>
</head>
<body onload="updatecount()">
    <h1 id="juice">you have 0 juice</h1>
    <button onclick="clicker.juice++">Get 1 juice</button>
    <div id="upgrades"></div>
</body>
</html>